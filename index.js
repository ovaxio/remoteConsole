// Generated by CoffeeScript 1.7.1
(function() {
  var RemoteConsole, request;

  request = require('superagent');

  RemoteConsole = (function() {
    function RemoteConsole(srv) {
      this.server = srv;
      if (this.server != null) {
        window.onerror = this.sendError;
      }
    }

    RemoteConsole.prototype.sendError = function(e, url, l) {
      var data;
      data = {
        error: {
          msg: e,
          file: url,
          line: l
        },
        browser: {
          appCodeName: navigator.appCodeName,
          appName: navigator.appName,
          appVersion: navigator.appVersion,
          platform: navigator.platform,
          userAgent: navigator.userAgent,
          vendor: navigator.vendor
        },
        window: {
          innerHeight: window.innerHeight,
          innerWidth: window.innerWidth
        }
      };
      return request.get(this.server).query(JSON.stringify(data)).end(function() {});
    };

    return RemoteConsole;

  })();

  module.exports = RemoteConsole;

}).call(this);
